!function(e,t){"use strict";e.setupNavigation=function(){function e(){var e=t(".content nav.navbar");if(e.length>0){var a=1200,n=e.height();t(window).on("scroll",{previousTop:0},function(){if(t(window).width()>a){var r=t(window).scrollTop();r<this.previousTop?r>0&&e.hasClass("is-fixed")?e.addClass("is-visible"):e.removeClass("is-visible is-fixed"):(e.removeClass("is-visible"),r>n&&!e.hasClass("is-fixed")&&e.addClass("is-fixed")),this.previousTop=r}})}}function a(){function e(){var e=t(this);n(e)}function a(e){function a(){var e=r.find(".dropdown-toggle"),t=e.attr("aria-expanded");r.toggleClass("open"),e.attr("aria-expanded","true"===t?"false":"true")}var r=t(this);e.preventDefault(),n(r,a)}function n(e,a){e.find(".dropdown-menu").first().stop(!0,!0).slideToggle(200,"linear",function(){t.isFunction(a)&&a()})}var r=t("nav.navbar .dropdown");r.on("show.bs.dropdown",e),r.on("hide.bs.dropdown",a)}e(),a()},e.updateCopyrightYear=function(){t("#year").html((new Date).getFullYear())},e.search={},e.search.focus=function(){t(".search-page .form-search-input").focus().each(function(){if(this.setSelectionRange){var e=t(this).val().length;this.setSelectionRange(e,e)}})},e.setupBreadcrumbs=function(e){function a(){var e=t(".article-page .breadcrumb");if(e.length>0)for(var a=["Core Java Tutorial","Java Servlet","SEO","Facebook","Spring Framework"],n=e.find("li.active"),r=0;r<a.length;r++){var o=n.find('a[data-tag="'+a[r]+'"]');if(o.length>0)return n.before(t("<li></li>").append(o.clone().removeClass())),void o.remove()}}a()},e.setupRelatedArticles=function(e){function a(){var e=[];return t('a[rel="tag"]').each(function(){var a=t.trim(t(this).text().replace(/\n/g,""));-1===t.inArray(a,e)&&(e[e.length]=a)}),e}function n(e){for(var t=0;t<d.length;t++)if(d[t].id===e)return t;return-1}function r(e){for(var t=0;t<e.link.length;t++)if("alternate"===e.link[t].rel)return e.link[t].href;return""}function o(e){if(e){var t=e.id.$t,a=r(e),o=n(t);if(o>=0)d[o].score++;else{var i=e.title.$t,s=1;d.push({title:i,url:a,score:s,id:t})}}}function i(e,t){return e.sort(function(e,a){var n=parseInt(e[t]),r=parseInt(a[t]);return r-n})}function s(a){u++;var n=a.feed.entry;if(n)for(var r=0;r<n.length;r++)o(n[r]);if(u>=c.length){d=i(d,"score"),d=d.splice(0,e.maxPosts);var s=t(".article-related");s.append("<ul></ul>");for(var l=0;l<d.length;l++)s.find("ul").append('<li><a href="'+d[l].url+'" data-score="'+d[l].score+'">'+d[l].title+"</a></li>")}}function l(){if(t(".article-related").length>0){c=a();for(var n=0;n<c.length;n++)t.ajax({url:"/feeds/posts/summary/",data:{category:c[n],"max-results":e.maxPostsPerTag,alt:"json-in-script"},success:s,dataType:"jsonp",cache:!0})}}var c=[],u=0,d=[],f={maxPosts:6,maxPostsPerTag:6};e=t.extend({},e,f),l()},e.setupAuthor=function(){function e(){var e=t(".article-page");if(e.length>0){var a=[{name:"Thương Nguyễn",avatar:"https://lh3.googleusercontent.com/-eyFRguLg8UI/AAAAAAAAAAI/AAAAAAAACNY/jNNTcEwz9xY/s120-c/photo.jpg",social:"https://plus.google.com/112584370687179756961"}],n=e.find("[data-author]").attr("data-author"),r=t.grep(a,function(e,t){return e.name===n})[0];r&&(t(".article-meta .media a").attr("href",r.social),t(".article-meta .media-left img").attr("src",r.avatar))}}e()},e.setupAnalytics=function(){function e(){window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date,window.ga("create","UA-9340528-3",{cookieDomain:"broculos.net",siteSpeedSampleRate:100}),window.ga("require","linkid","linkid.js"),window.ga("send","pageview"),t.getScript("http://www.google-analytics.com/analytics.js"),r()}function a(e){e.clone().children().remove().end().text()}function n(e){var t=e.attr("data-label");return t.length<=0&&a(e),t.length<=0&&(t=e.attr("href")),t}function r(){for(var e=[{selector:".navbar-nav a",category:"Top navigation",label:""},{selector:"#follow a",category:"Follow Us",label:""},{selector:".article-related ul a",category:"Related Article",label:""}],a=0;a<e.length;a++)t(e[a].selector).attr("data-category",e[a].category),t(e[a].selector).attr("data-label",e[a].label),t(e[a].selector).on("click",function(){window.ga("send","event",t(this).attr("data-category"),n(t(this)))})}e()},e.setupPageNotFound=function(){function e(){var e=t("#notfound"),a=document.URL.substring(document.URL.lastIndexOf("/")+1);a=decodeURIComponent((a+"").replace(/\+/g,"%20")),a.lastIndexOf(".")>0&&(a=a.substring(0,a.lastIndexOf("."))),a=a.replace(/[\-\_\+]+/g," ");var n=e.find("form input.form-search-input");n.val(a),n.focus()}e()},t(document).ready(function(){e.updateCopyrightYear(),e.setupNavigation(),e.search.focus(),e.setupBreadcrumbs(),e.setupRelatedArticles(),e.setupAuthor(),e.setupAnalytics(),e.setupPageNotFound()}),t(window).load(function(){})}(window.vanthuong=window.vanthuong||{},jQuery);
